# GWSE 스크래퍼 개발 인사이트

## 사이트 정보
- **사이트명**: 강원지속가능경제지원센터 공지사항
- **URL**: https://gwse.or.kr/bbs/board.php?bo_table=sub41&sca=%EC%82%AC%EC%97%85%EA%B3%B5%EA%B3%A0
- **사이트 코드**: gwse

## 사이트 구조 분석

### 1. 페이지네이션 방식
- **방식**: GET 기반 페이지네이션 (표준 PHP 게시판)
- **URL 패턴**: 
  - 1페이지: `https://gwse.or.kr/bbs/board.php?bo_table=sub41&sca=%EC%82%AC%EC%97%85%EA%B3%B5%EA%B3%A0`
  - 2페이지 이상: 기본 URL + `&page={PAGE_NUMBER}`
- **카테고리 필터**: `sca=%EC%82%AC%EC%97%85%EA%B3%B5%EA%B3%A0` (사업공고)
- **페이지당 게시물**: 20개

### 2. 목록 페이지 구조
- **테이블 구조**: 단순한 `table` 태그 (클래스 없음)
- **컬럼 순서**: 번호, 제목, 작성자, 날짜, 조회수 (5개 컬럼)
- **제목 구조**: 첫 번째 링크(카테고리) + 두 번째 링크(게시물 제목)
- **첨부파일 표시**: `img[alt="첨부파일"]` 아이콘

### 3. 상세 페이지 구조
- **URL 패턴**: `https://gwse.or.kr/bbs/board.php?bo_table=sub41&wr_id={POST_ID}&sca={CATEGORY}`
- **본문 위치**: `div#bo_v_con div` 내부 (복잡한 구조)
- **첨부파일**: `div.bo_v_file` 섹션 내 다운로드 링크

### 4. 첨부파일 다운로드 구조
- **다운로드 URL 패턴**: `https://gwse.or.kr/bbs/download.php?bo_table=sub41&wr_id={POST_ID}&no={FILE_NUMBER}&sca={CATEGORY}`
- **파일명**: `strong` 태그 내 텍스트로 파일명 표시

## 기술적 특징

### 1. 사이트 구조 - 표준 PHP 게시판
- **프레임워크**: 그누보드(Gnuboard) 기반
- **인증 불필요**: 모든 공고에 공개 접근 가능
- **세션 관리**: 기본적인 쿠키 기반 세션

### 2. Korean URL 인코딩
- **카테고리 인코딩**: `%EC%82%AC%EC%97%85%EA%B3%B5%EA%B3%A0` ("사업공고")
- **URL 파라미터**: 정상적인 URL 인코딩 처리 필요
- **한글 지원**: UTF-8 완전 지원

### 3. HTML 구조 특징
- **테이블 단순화**: 클래스명 없는 기본 table 태그
- **링크 구조**: 카테고리 + 제목 링크가 동일 셀에 배치
- **본문 파싱**: 복잡한 네비게이션 구조로 인한 노이즈 포함

## 성능 및 결과

### 수집 결과
- **총 페이지**: 3페이지
- **총 공고 수**: 60개
- **다운로드 파일**: 0개 (첨부파일 없는 공고들)
- **중복 방지**: JSON 기반 해시 저장 정상 작동

### 파일 구조
```
output/gwse/
├── processed_titles_enhancedgwse.json  # 중복 방지 데이터
├── 001_공공조달_진출_역량강화_교육_참여기업_모집_공고/
│   └── content.md
├── 002_[마을기업팀]_제품·서비스_상용화_지원사업_참여_기업_선정결과_공고/
│   └── content.md
└── ... (58개 더)
```

## 개발 시 주의사항

### 1. CSS 선택자 특징
- **테이블 선택**: 클래스 없이 단순한 `table` 태그
- **헤더 제외**: `table.select('tr')[1:]`로 첫 번째 행 제외
- **링크 구조**: 제목 셀 내 복수 링크 처리 (`post_links[1]`)

### 2. URL 인코딩 처리
- **카테고리 필터**: 한글 URL 인코딩 정상 처리
- **페이지네이션**: 기본 URL + `&page=N` 패턴
- **상세 페이지**: 카테고리 파라미터 포함

### 3. 본문 내용 추출
- **네비게이션 노이즈**: 메뉴 및 헤더 정보 포함
- **실제 내용**: 공고 본문은 추출되지만 부가 정보 많음
- **필터링**: 메타 정보 키워드 제외 처리

### 4. 첨부파일 처리
- **첨부파일 부족**: 대부분 공고에 첨부파일 없음
- **다운로드 패턴**: 표준 `download.php` 패턴
- **파일명 추출**: `strong` 태그 내 텍스트 사용

## 개발 팁

### 1. 디버깅 방법
- **테이블 구조**: 단순한 table 태그 확인
- **링크 순서**: 카테고리(첫 번째) + 제목(두 번째) 순서
- **본문 추출**: 복잡한 구조로 인한 노이즈 필터링

### 2. 성능 최적화
- **요청 간격**: 1초 간격으로 적절
- **세션 관리**: 기본 세션으로 충분
- **에러 처리**: 빈 공고 또는 접근 불가 페이지 처리

### 3. 확장 가능성
- **다른 카테고리**: `sca` 파라미터 변경
- **더 많은 페이지**: `max_pages` 매개변수 조정
- **본문 개선**: 더 정교한 본문 추출 필터링

## 트러블슈팅

### 1. 일반적인 문제
- **테이블 찾기 실패**: 단순한 `table` 선택자 사용
- **링크 누락**: 복수 링크 중 두 번째 링크 선택
- **본문 노이즈**: 네비게이션 정보 포함

### 2. 파일 다운로드 문제
- **첨부파일 없음**: 대부분 공고에 첨부파일 없음
- **HTML 응답**: Content-Type 확인 필요
- **권한 문제**: 표준 헤더로 충분

### 3. 인코딩 문제
- **한글 URL**: 정상적인 URL 인코딩 처리
- **카테고리 필터**: 인코딩된 카테고리 파라미터 사용

## 비교 분석

### 사이트별 특징 비교
- **OFSI**: POST 방식, 복잡한 폼 데이터
- **DCTF**: GET 방식, div 래핑 테이블
- **GWSE**: GET 방식, 단순한 테이블, 카테고리 필터

### 개발 복잡도
- **GWSE**: 중간 복잡도 (카테고리 필터 + 한글 URL)
- **특징**: 표준 PHP 게시판의 전형적인 구조
- **확장성**: 다른 카테고리 스크래핑 용이

## 개선 방향

### 1. 본문 추출 개선
- **네비게이션 필터링**: 더 정교한 메뉴 정보 제거
- **핵심 내용 추출**: 공고 본문만 정확히 추출
- **구조화**: 제목, 날짜, 내용 등 구조화된 추출

### 2. 첨부파일 처리 개선
- **다운로드 검증**: 파일 형식 및 크기 검증
- **에러 처리**: 다운로드 실패 시 대안 처리
- **파일명 정리**: 한글 파일명 정규화

이 인사이트는 향후 한글 URL 인코딩이 필요한 PHP 게시판 사이트 스크래핑 시 참고할 수 있는 표준 패턴으로 활용 가능합니다.